<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>完全等同</title>
    <!-- 
        注意考虑两种特殊情况
            NaN与任何值都不相等，包括NaN本身。(判断是否为NaN)

            一般使用双等来判断（==），如果还需要类型相同那么就用三等（===）。
            说一下这两个的区别：
            == equality 等同，=== identity 恒等。
            ==， 两边值类型不同的时候，要先进行类型转换，再比较。 
            ==，不做类型转换，类型不同的一定不等。 
            下面分别说明： 
            先说 ===，这个比较简单。下面的规则用来判断两个值是否===相等： 
            1、如果类型不同，就[不相等] 
            2、如果两个都是数值，并且是同一个值，那么[相等]。
            3、如果两个都是字符串，每个位置的字符都一样，那么[相等]；否则[不相等]。 
            4、如果两个值都是true，或者都是false，那么[相等]。 
            5、如果两个值都引用同一个对象或函数，那么[相等]；否则[不相等]。 
            6、如果两个值都是null，或者都是undefined，那么[相等]。 
            再说 ==，根据以下规则： 
            1、如果两个值类型相同，进行 === 比较。 
            2、如果两个值类型不同，他们可能相等。根据下面规则进行类型转换再比较： 
            a、如果一个是null、一个是undefined，那么[相等]。 
            b、如果一个是字符串，一个是数值，把字符串转换成数值再进行比较。 
            c、如果任一值是 true，把它转换成 1 再比较；如果任一值是 false，把它转换成 0 再比较。 
            d、任何其他组合，都[不相等]。

        ES6方法：
        '==='判断的话+0和-0会认为是相等的，NaN会认为是不相等的。
        Object.is()方法 function isEqual(val1,val2){ return Object.is(val1,val2) }
     -->
</head>

<body>
    <script>
        // 1
        function identity(val1, val2) {
            if (val1 === val2) {
                if (1 / val1 == -1 / val2) { // 针对+0、-0
                    return false;
                } else {
                    return true;
                }
            } else if ((typeof val1 === 'number') && (typeof val2 === 'number') && (isNaN(val1)) && (isNaN(val2))) {
                return true; // 针对NaN
            } else {
                return false;
            }
        }
        // 2

    </script>
</body>

</html>